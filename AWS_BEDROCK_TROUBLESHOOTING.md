# AWS Bedrock Claude åœ°ç†ä½ç½®é™åˆ¶æ•…éšœæ’é™¤æŒ‡å—

## ğŸš¨ é”™è¯¯ä¿¡æ¯
```
Access to Anthropic models is not allowed from unsupported countries, regions, or territories. 
Please refer to https://www.anthropic.com/supported-countries for more information.
```

## ğŸ” é—®é¢˜åˆ†æ

### å½“å‰æ£€æµ‹åˆ°çš„ä¿¡æ¯
- **IPåœ°å€**: 23.172.200.71
- **æ˜¾ç¤ºä½ç½®**: ç¾å›½åŠ åˆ©ç¦å°¼äºšå·åœ£ä½•å¡
- **å›½å®¶**: ç¾å›½ (æ”¯æŒåˆ—è¡¨ä¸­)

### å¯èƒ½çš„æ ¹æœ¬åŸå› 

1. **AWSåŒºåŸŸé…ç½®é—®é¢˜** â­ æœ€å¯èƒ½
2. **æ¨¡å‹è®¿é—®æƒé™é—®é¢˜**
3. **ç½‘ç»œè·¯ç”±é—®é¢˜**
4. **AWSè´¦æˆ·åŒºåŸŸé™åˆ¶**

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: æ£€æŸ¥å¹¶æ›´æ”¹AWSåŒºåŸŸ (æ¨è)

#### 1.1 æ£€æŸ¥å½“å‰AWSé…ç½®
```bash
aws configure list
aws configure get region
```

#### 1.2 æ”¯æŒClaudeçš„AWSåŒºåŸŸ
| åŒºåŸŸä»£ç  | åŒºåŸŸåç§° | Claudeæ”¯æŒ | æ¨èåº¦ |
|---------|---------|-----------|--------|
| `us-east-1` | N. Virginia | âœ… å®Œæ•´æ”¯æŒ | â­â­â­ |
| `us-west-2` | Oregon | âœ… å®Œæ•´æ”¯æŒ | â­â­â­ |
| `eu-central-1` | Frankfurt | âœ… éƒ¨åˆ†æ”¯æŒ | â­â­ |
| `ap-northeast-1` | Tokyo | âœ… éƒ¨åˆ†æ”¯æŒ | â­â­ |
| `ap-southeast-1` | Singapore | âœ… éƒ¨åˆ†æ”¯æŒ | â­â­ |

#### 1.3 æ›´æ”¹AWSåŒºåŸŸ
```bash
# æ–¹æ³•1: ä½¿ç”¨AWS CLI
aws configure set region us-east-1

# æ–¹æ³•2: è®¾ç½®ç¯å¢ƒå˜é‡
export AWS_DEFAULT_REGION=us-east-1
export AWS_REGION=us-east-1

# æ–¹æ³•3: åœ¨One-APIä¸­é…ç½®
# åœ¨æ¸ é“é…ç½®ä¸­è®¾ç½®åŒºåŸŸå‚æ•°
```

### æ–¹æ¡ˆ2: ç”³è¯·æ¨¡å‹è®¿é—®æƒé™

#### 2.1 ç™»å½•AWSæ§åˆ¶å°
1. è®¿é—® [AWS Bedrockæ§åˆ¶å°](https://console.aws.amazon.com/bedrock/)
2. é€‰æ‹©æ­£ç¡®çš„åŒºåŸŸ (us-east-1æ¨è)

#### 2.2 ç”³è¯·æ¨¡å‹è®¿é—®
1. ç‚¹å‡»å·¦ä¾§èœå• "Model access"
2. æ‰¾åˆ° "Anthropic" éƒ¨åˆ†
3. å‹¾é€‰éœ€è¦çš„Claudeæ¨¡å‹ï¼š
   - Claude 3 Haiku
   - Claude 3 Sonnet  
   - Claude 3 Opus
   - Claude 3.5 Sonnet
   - Claude 3.5 Haiku
   - Claude 4 Sonnet
   - Claude 4 Opus
4. ç‚¹å‡» "Request model access"
5. å¡«å†™ä½¿ç”¨æ¡ˆä¾‹ä¿¡æ¯
6. ç­‰å¾…å®¡æ‰¹ (é€šå¸¸å‡ åˆ†é’Ÿåˆ°å‡ å°æ—¶)

### æ–¹æ¡ˆ3: æ£€æŸ¥ç½‘ç»œé…ç½®

#### 3.1 ç¡®è®¤çœŸå®IPä½ç½®
```bash
# æ£€æŸ¥å¤šä¸ªIPæŸ¥è¯¢æœåŠ¡
curl ipinfo.io
curl ifconfig.me/all.json
curl ipapi.co/json
```

#### 3.2 å¦‚æœä½¿ç”¨VPN/ä»£ç†
- å°è¯•æ–­å¼€VPNè¿æ¥
- ä½¿ç”¨ç¾å›½æˆ–æ¬§ç›Ÿçš„VPNèŠ‚ç‚¹
- ç¡®ä¿VPNæä¾›å•†çš„IPåœ¨æ”¯æŒåˆ—è¡¨ä¸­

### æ–¹æ¡ˆ4: AWSè´¦æˆ·æ£€æŸ¥

#### 4.1 ç¡®è®¤è´¦æˆ·åŒºåŸŸ
1. ç™»å½•AWSæ§åˆ¶å°
2. æ£€æŸ¥å³ä¸Šè§’çš„åŒºåŸŸé€‰æ‹©å™¨
3. ç¡®è®¤è´¦æˆ·æ˜¯åœ¨æ”¯æŒçš„åŒºåŸŸæ³¨å†Œçš„

#### 4.2 æ£€æŸ¥è´¦æˆ·çŠ¶æ€
- ç¡®è®¤è´¦æˆ·å·²å®ŒæˆéªŒè¯
- æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é™åˆ¶æˆ–æš‚åœ

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. åŸºç¡€è¿æ¥æµ‹è¯•
```bash
# æµ‹è¯•AWSè¿æ¥
aws bedrock list-foundation-models --region us-east-1

# æµ‹è¯•ç‰¹å®šæ¨¡å‹
aws bedrock get-foundation-model \
  --model-identifier us.anthropic.claude-3-haiku-20240307-v1:0 \
  --region us-east-1
```

### 2. One-APIé…ç½®æµ‹è¯•
1. åœ¨One-APIç®¡ç†ç•Œé¢ä¸­
2. ç¼–è¾‘AWSæ¸ é“é…ç½®
3. ç¡®ä¿åŒºåŸŸè®¾ç½®ä¸º `us-east-1`
4. ä¿å­˜å¹¶é‡æ–°æµ‹è¯•

### 3. æ¨¡å‹è®¿é—®æµ‹è¯•
```bash
# ä½¿ç”¨AWS CLIæµ‹è¯•æ¨¡å‹è°ƒç”¨
aws bedrock-runtime invoke-model \
  --model-id us.anthropic.claude-3-haiku-20240307-v1:0 \
  --body '{"anthropic_version":"bedrock-2023-05-31","max_tokens":100,"messages":[{"role":"user","content":"Hello"}]}' \
  --cli-binary-format raw-in-base64-out \
  --region us-east-1 \
  output.json
```

## ğŸ“‹ æ£€æŸ¥æ¸…å•

- [ ] AWSåŒºåŸŸè®¾ç½®ä¸ºæ”¯æŒçš„åŒºåŸŸ (æ¨èus-east-1)
- [ ] å·²ç”³è¯·Claudeæ¨¡å‹è®¿é—®æƒé™
- [ ] æ¨¡å‹è®¿é—®è¯·æ±‚å·²è·æ‰¹å‡†
- [ ] ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œæ— VPNå¹²æ‰°
- [ ] AWSå‡­è¯é…ç½®æ­£ç¡®
- [ ] One-APIæ¸ é“é…ç½®æ­£ç¡®
- [ ] ä½¿ç”¨æ­£ç¡®çš„æ¨ç†é…ç½®æ–‡ä»¶ID

## ğŸ†˜ å¦‚æœä»ç„¶æ— æ³•è§£å†³

### è”ç³»æ”¯æŒ
1. **AWSæ”¯æŒ**: åˆ›å»ºæŠ€æœ¯æ”¯æŒæ¡ˆä¾‹
2. **Anthropicæ”¯æŒ**: å‘é€é‚®ä»¶åˆ°æ”¯æŒå›¢é˜Ÿ
3. **One-APIç¤¾åŒº**: åœ¨GitHubæäº¤Issue

### æä¾›çš„ä¿¡æ¯
- é”™è¯¯çš„å®Œæ•´æ—¥å¿—
- AWSåŒºåŸŸé…ç½®
- æ¨¡å‹è®¿é—®æƒé™çŠ¶æ€
- ç½‘ç»œç¯å¢ƒä¿¡æ¯
- One-APIç‰ˆæœ¬ä¿¡æ¯

## ğŸ’¡ é¢„é˜²æªæ–½

1. **ä½¿ç”¨æ¨èåŒºåŸŸ**: ä¼˜å…ˆé€‰æ‹©us-east-1
2. **æå‰ç”³è¯·æƒé™**: åœ¨ä½¿ç”¨å‰ç”³è¯·æ‰€æœ‰éœ€è¦çš„æ¨¡å‹
3. **ç›‘æ§é…é¢**: å®šæœŸæ£€æŸ¥æ¨¡å‹ä½¿ç”¨é…é¢
4. **å¤‡ç”¨åŒºåŸŸ**: é…ç½®å¤šä¸ªåŒºåŸŸçš„æ¸ é“ä½œä¸ºå¤‡ä»½
